<!DOCTYPE html>
<html>
  <head>
    <title>Simple Timeline</title>
    <style type="text/css" media="screen">
      body {
        text-align: center;
      }

      .progress {
        position: relative;
        z-index: 3;
        width: 100%;
        height: 10px;
        background-color: black;
      }

      h2,
      p {
        text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5);
        position: relative;
      }
    </style>
  </head>
  <body>
    <div class="progress"></div>
    <div id="page-wrap">
      <h2>Hello Green Sock</h2>
      <h2>You're Awesome</h2>
      <p id="description">
        I just made my first timeline and thats pretty cool.
      </p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>

    <script type="text/javascript">
      // wait for our DOM to fully load and then execute this code
      document.addEventListener('DOMContentLoaded', function () {
        // grab all of our dom elements and store them in variables
        const headers = document.getElementsByTagName('H2')
        const hello = headers[0]
        const awesome = headers[1]
        const text = document.getElementById('description')
        const progress = document.getElementsByClassName('progress')[0]
        const bg = document.getElementById('page-wrap')
        // set initial perspective
        CSSPlugin.defaultTransformPerspective = 800

        var tl = new TimelineLite()

        tl.from(bg, 0.5, {opacity: 0})
          .from(hello, 0.5, {left: -500, opacity: 0})
          .from(awesome, 0.5, {right: -500, opacity: 0})
          .from(text, 0.8, {top: 50, opacity: 0}, '+=1.0')
          .from(
            progress,
            tl.duration(),
            {scaleX: 0, transformOrigin: 'left', ease: Linear.easeNone},
            0
          )
          .to(progress, 0.2, {opacity: 0, top: -8})
      })
    </script>
  </body>
</html>
